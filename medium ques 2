expenditure={}
def add_expense():
    category=input("Enter the category of expenditure :")
    while True:
        try:
            amt = int(input("Enter the amount of money spent :-"))
            if amt < 0:
                print("Amount cannot be negative. Please enter a positive integer.")
                continue
            break
        except ValueError:
            print("Invalid input! Please enter an integer amount.")
    if category in expenditure.keys():
        spent=expenditure.get(category)
        expenditure[category]=spent+amt
        print("\nExpenditure has been added in the tracker :) \n")
    else:
        expenditure[category]=amt
        print(f"\nExpenditure of the new category {category} has been added :) \n")
def total_spent():
    total=0
    for i in expenditure.values():
        total+=i
    print(f"\nThe Total Expenditure till now is :- {total}\n")

def per_cat_spent():
    print("="*35)
    print("Category\t\tExpenditure")
    print("-"*35)
    for i,r in expenditure.items():
        print(f"{i}\t\t\t{r}")
    print("="*35)
    print("\n")
        
         
        
while True:
    print("Personal Expense Tracker")
    print("1. Add Expense")
    print("2. Show Total Spent")
    print("3. Show Per-Category Spending")
    print("4. Exit")
    choice = input("Enter your choice (1/2/3/4): ")

    if choice == "1":
        add_expense()
    elif choice == "2":
        total_spent()
    elif choice == "3":
        per_cat_spent()
    elif choice == "4":
        print("Exiting the expense tracker.")
        break
    else:
        print("Invalid choice. Please select from the menu again.")
